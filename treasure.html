<!DOCTYPE html>
<html lang="en">
<head>
  <title>DOM and Callbacks</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-iYQeCzEYFbKjA/T2uDLTpkwGzCiq6soy8tYaI1GyVh/UjpbCx/TYkiZhlZB6+fzT" crossorigin="anonymous">
  <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js"   
    integrity="sha384-oBqDVmMz9ATKxIep9tiCxS/Z9fNfEXiDAYTujMAeBAsjFuCZSmKbSSUnQlmh/jp3" crossorigin="anonymous"></script> 
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/js/bootstrap.min.js" 
    integrity="sha384-7VPbUDkoPSGFnVtYi0QogXtr74QeVeeIs99Qfg5YCF+TidwNdjvaKZX19NZ/e6oz" crossorigin="anonymous"></script>

</head>
<body>

<h2>Treasure hunt by Shrinidhi Yadavally</h2>

<div class="container border " style="background-color:hotpink ;">
    <p style="color:black">Click on the chests to search for treasure</p>
</div>
<div class="container border" style="background-color:bisque ;" id="chests">
    <p style="color:black">Number of chests checked is zeroScore is unknown</p></p>
</div>
<div class="container border " style="background-color:darksalmon ;" id="score">
    <p>Score is unknown</p>
</div>
<div class="container border background-color" style="background-color:lavender" id="help">
    <p>Help report</p>
</div>
<div class="container">
    <button type="button" class="btn btn-primary" onclick="newGame()">New Game</button>
<br>

<div class="container"> 
    <div class="image-row d-flex justify-content-center">
        <div >
            <img id="img0" src="treasurechest.webp" alt="treasureChest" onclick="check(0)"  height="150" width="150">
        </div>
        <div >
            <img id="img1" src="treasurechest.webp" alt="treasureChest" onclick="check(1)"  height="150" width="150">
        </div>
        <div > 
            <img id="img2" src="treasurechest.webp" alt="treasureChest" onclick="check(2)"  height="150" width="150">
        </div>
        <div >
            <img id="img3" src="treasurechest.webp" alt="treasureChest"  onclick="check(3)" height="150" width="150">
        </div>
        <div>
            <img id="img4"  src="treasurechest.webp" alt="treasureChest" onclick="check(4)"  height="150" width="150">
        </div>
    </div>
    <div class="image-row d-flex justify-content-center">
        <div>
            <img id="img5" src="treasurechest.webp" alt="treasureChest" onclick="check(5)"  height="150" width="150">
        </div>
        <div>
            <img id="img6" src="treasurechest.webp" alt="treasureChest" onclick="check(6)"  height="150" width="150">
        </div>
        <div >
            <img id="img7" src="treasurechest.webp" alt="treasureChest"  onclick="check(7)" height="150" width="150">
        </div>
        <div >
            <img id="img8" src="treasurechest.webp" alt="treasureChest"  onclick="check(8)" height="150" width="150">
        </div>
        <div >
            <img id="img9" src="treasurechest.webp" alt="treasureChest"  onclick="check(9)" height="150" width="150">
        </div>
    </div>
    <div class="image-row d-flex justify-content-center">
        <div >
            <img id="img10" src="treasurechest.webp" alt="treasureChest"  onclick="check(10)" height="150" width="150">
        </div>
        <div >
            <img id="img11" src="treasurechest.webp" alt="treasureChest"  onclick="check(11)" height="150" width="150">
        </div>
        <div >
            <img id="helpImg" src="help.jpg" alt="treasureChest"   onclick="help()" height="150" width="150">
        </div>
        <div >
            <img id="img13" src="treasurechest.webp" alt="treasureChest" onclick="check(13)"  height="150" width="150">
        </div>
        <div >
            <img id="img14" src="treasurechest.webp" alt="treasureChest"  onclick="check(14)" height="150" width="150">
        </div>
    </div>
    <div class="image-row d-flex justify-content-center">
        <div>
            <img id="img15" src="treasurechest.webp" alt="treasureChest" onclick="check(15)"  height="150" width="150">
        </div>
        <div >
            <img id="img16" src="treasurechest.webp" alt="treasureChest" onclick="check(16)"  height="150" width="150">
        </div>
        <div >
            <img id="img17" src="treasurechest.webp" alt="treasureChest"  onclick="check(17)" height="150" width="150">
        </div>
        <div >
            <img id="img18" src="treasurechest.webp" alt="treasureChest"  onclick="check(18)" height="150" width="150">
        </div>
        <div>
            <img id="img19" src="treasurechest.webp" alt="treasureChest"  onclick="check(19)" height="150" width="150">
        </div>
    </div>   
    <div class="image-row d-flex justify-content-center">
        <div >
            <img id="img20" src="treasurechest.webp" alt="treasureChest" onclick="check(20)"  height="150" width="150">
        </div class="col">
        <div>
            <img id="img21" src="treasurechest.webp" alt="treasureChest"  onclick="check(21)" height="150" width="150">
        </div>
        <div>
            <img id="img22" src="treasurechest.webp" alt="treasureChest" onclick="check(22)"  height="150" width="150">
        </div>
        <div>
            <img id="img23" src="treasurechest.webp" alt="treasureChest"  onclick="check(23)" height="150" width="150">
        </div>
        <div>
            <img id="img24" src="treasurechest.webp" alt="treasureChest" onclick="check(24)"  height="150" width="150">
        </div>
    </div>
    </div>



<script>
    var ids = []
    for (var i = 0; i <= 24; i++)
        ids.push("img" + i)

    var chestCount = 0
    var score = 0
    var lastCheck = 12
    var treasureLocation = 18
    
    function check(position) {
        var imgID = ids[position]

        if (position == treasureLocation)
            document.getElementById(imgID).src ="./treasure.avif" 
        else
            document.getElementById(imgID).src = "./sademoji.png"

        chestCount++
        score++
        document.getElementById("chests").innerHTML = "Number of chests checked is " + chestCount + "."
        document.getElementById("score").innerHTML = "Score is " + score + "."
        lastCheck = position
    }

    function help() {
        row = lastCheck % 5
        col = Math.floor(lastCheck / 5)

        rowTresure = treasureLocation % 5
        colTresure = Math.floor(treasureLocation / 5)

        score = score + 2
        document.getElementById("score").innerHTML = "Score is " + score + "."
        
        if (row == rowTresure && lastCheck != treasureLocation) {
            if (col > colTresure)
                document.getElementById("help").innerHTML = "up"
            else
                document.getElementById("help").innerHTML = "down"
        } else if (col == colTresure && lastCheck != treasureLocation) {
            if (row > rowTresure)
                document.getElementById("help").innerHTML = "left"
            else
                document.getElementById("help").innerHTML = "right"
        } else if (lastCheck == treasureLocation) {
            document.getElementById("help").innerHTML = "already won the game"
        } else {
            document.getElementById("help").innerHTML = "sorry, no help available"
        }
    }

    function newGame() {
        chestCount = 0
        score = 0
        treasureLocation = Math.floor(Math.random() * 24)
        if(treasureLocation == 12)
            treasureLocation = 12 + Math.floor(Math.random() * 12)

        document.getElementById("chests").innerHTML = "Number of chests checked is zero."
        document.getElementById("score").innerHTML = "Score is unknown."

        for (var i = 0; i <= 24; i++) {
            if(i != 12)
                document.getElementById(ids[i]).src = "./treasurechest.webp"
        }
    }
    </script>
</body>

</html>
